(()=>{"use strict";function e(){const n=document.querySelector(".projects");n.innerHTML="";for(let c=0;c<o.length;c++){let s=o[c],i=document.createElement("div");i.setAttribute("data-index",c),i.classList.add("project-card"),i.innerHTML=`\n      <h1 class="project-title">${s.projectTitle}</h1>\n      <img class="delete-project" src="assets/delete.svg">\n      `,i.addEventListener("click",(()=>{var n;n=c,o.forEach(((e,t)=>e.active=t===n)),e(),d(),t()})),s.active&&i.classList.add("active-project"),n.appendChild(i)}s()}function t(){const e=document.querySelector(".header"),t=c();if(e.innerHTML="",t){const o=document.createElement("div");o.classList.add("project-info"),o.innerHTML=`<h1 class="title" >${t.projectTitle}</h1>`,e.appendChild(o)}else e.innerHTML=""}let o=[];class n{constructor(e){this.projectTitle=e,this.todosArray=[],this.active=!0}}function c(){return o.find((e=>e.active))}function s(){localStorage.setItem("projects",JSON.stringify(o))}function d(){const e=document.querySelector(".main"),t=document.createElement("div");t.classList.add("render-todo-form"),t.innerHTML='\n  <p class="todo-btn-render">\n    <img\n      class="add-svg"\n      alt="add-todo-plus-picture"\n      src="assets/create.svg"\n    />\n     To Do\n  </p>',e.innerHTML="";const o=c();o&&o.todosArray.forEach(((t,o)=>{let n=document.createElement("div");n.innerHTML=`<div class="todo-card" data-index='${o}'>\n        <div class='left-side-todo'>\n        <h1 class="todo-title">${t.title}</h1>\n        <h2 class='description'>${t.description}</h2>\n        </div>\n        <div class='right-side-todo'>\n        <h2 class='date'>${t.date}</h2>\n        <h2 class='priority'>${t.priority}</h2>\n        <button class='delete-todo'>Delete</button>\n        <img class='edit-todo-svg' data-index='${o}' src='assets/edit.svg' alt='edit-svg'>\n        </div>\n    </div>`,e.appendChild(n)})),e.appendChild(t)}class i{constructor(e,t,o,n){this.title=e,this.description=t,this.date=o,this.priority=n}}const r=[];!function(){const t=localStorage.getItem("projects");t&&(o=JSON.parse(t),e(),d())}();const a=document.querySelector(".project-form-container"),l=document.querySelector(".add-project");l.addEventListener("click",(function(c){c.preventDefault();const d=document.querySelector("#project-name").value;let i=new n(d);o.push(i),e(),t(),s(),console.log(o)})),l.addEventListener("click",e),l.addEventListener("click",(function(){a.style.display="none"})),document.querySelector(".cancel-project").addEventListener("click",(function(){a.style.display="none"}));const u=document.querySelector(".add-todo");u.addEventListener("click",(function(e){e.preventDefault();const t=document.querySelector("#todo-title").value,o=document.querySelector("#todo-description").value,n=document.querySelector("#todo-date").value,a=document.querySelector("#priority-choice").value,l=c();if(l){const e=new i(t,o,n,a);r.push(e),l.todosArray.push(e),d(),s(),console.log(e)}})),u.addEventListener("click",d),u.addEventListener("click",(function(){y.style.display="none"})),document.querySelector(".main").addEventListener("click",(function(e){const t=e.target;t.classList.contains("delete-todo")&&function(e){const t=c();t&&(t.todosArray.splice(e,1),d(),s())}(t.closest(".todo-card").dataset.index)})),document.querySelector(".projects").addEventListener("click",(function(n){const c=n.target;if(c.classList.contains("delete-project")){i=c.closest(".project-card").dataset.index,o.splice(i,1),e(),d(),s(),t()}var i})),document.querySelector(".create-project").addEventListener("click",(function(){a.style.display="flex",document.querySelector(".project-form").reset()}));const p=document.querySelector(".edit-todo-form-container"),y=document.querySelector(".todo-form-container");document.addEventListener("click",(function(e){const t=e.target;t.classList.contains("todo-btn-render")||t.classList.contains("add-svg")?(0===o.length?(y.style.display="none",alert("No projects available!")):y.style.display="flex",document.querySelector(".todo-form").reset()):t.classList.contains("cancel-todo")?y.style.display="none":t.classList.contains("cancel-project")?a.style.display="none":t.classList.contains("edit-todo-svg")&&(p.style.display="flex")})),document.querySelector(".edit-add-todo").addEventListener("click",(function(e){e.preventDefault(),function(e){const t=document.querySelector(".edit-todo-form-container"),o=c().todosArray[e];o.title=document.querySelector("#edit-todo-title").value,o.description=document.querySelector("#edit-todo-description").value,o.date=document.querySelector("#edit-todo-date").value,o.priority=document.querySelector("#edit-priority-choice").value,t.style.display="none",s()}(document.querySelector(".edit-todo-form-container").dataset.index),d()})),document.querySelector(".main").addEventListener("click",(function(e){const t=e.target;if(t.classList.contains("edit-todo-svg")){const e=t.dataset.index;document.querySelector(".edit-todo-form-container").dataset.index=e,p.style.display="flex"}}))})();